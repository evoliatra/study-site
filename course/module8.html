<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Первое GUI-приложение.</title>
    <link rel="stylesheet" href="D:/site/css/style2.css">
</head>
<body>
	<header>
		<nav>
			<ul id="list_menu">
				<li><a href="D:/site/index.html">Главная</a></li>
				<li><a href="D:/site/index.html#course">Уроки</a></li>
				<li><a href="D:/site/doc.html">Документация</a></li>
			</ul>
		</nav>
        <div class="text"> 
		<h1>Первое GUI-приложение</h1>
		<h3>Создаём калькулятор для расчёта индекса массы тела</h3>
        </div>
    </header>
	<main>
		<h3>Разделы модуля</h3>
        <hr>
        <div class="razdel">
		    <ol>
			    <li><a href="#clcimt">Калькулятор ИМТ</a></li>
			    <li><a href="#ittest">Тест</a></li>
			</ol>
        </div>
            <hr>   
    <p>Мы напишем калькулятор индекса массы тела. ИМТ — это важный медицинский показатель, который позволяет оценить, есть ли у человека избыточный вес или ожирение. Он рассчитывается по следующей формуле:</p>
    <p>ИМТ = вес (в кг) / рост2 (в метрах)</p>
    <p>Результаты расчётов оценивают с помощью специальной таблицы. У врачей она имеет много градаций, мы же воспользуемся упрощённой версией:</p>
    <img src="D:/site/img/res.png" height="400px" width="750px">
    <p>Делаем эскиз интерфейса и продумываем логику приложения.Прежде чем писать код, необходимо ответить на несколько вопросов:</p>
    <p>Какие данные мы хотим получить от пользователя и в каком виде?</p>
    <p>Какое событие будет запускать расчёт ИМТ: нажатие кнопки, получение приложением всех необходимых данных или что-то другое?</p>
    <p>Как будем показывать результат?</p>
    <p>В нашем случае необходимо получить от пользователя вес и рост в виде целых чисел. При этом вес должен быть введён в килограммах, а рост — в сантиметрах. ИМТ будет рассчитываться по нажатии кнопки, а результат — выводиться во всплывающем окне в виде значения ИМТ и категории, к которой он относится.</p>
    <p>Схематично графический интерфейс нашего калькулятора будет выглядеть так:</p>
    <img src="D:/site/img/gui.jpg" height="400px" width="750px">
    <p>Теперь попробуем реализовать интерфейс и работу калькулятора с помощью Python и Tkinter.</p>
    <p>Создаём виджет Frame для контроля за расположением элементов</p>
    <p>В окне приложения необходимо разместить несколько элементов с нашего эскиза: два поля ввода информации с подписями и одну кнопку. Важно, чтобы поля не накладывались друг на друга и не уходили за пределы окна. В Tkinter для этого есть несколько методов:</p>
    <p>pack — используется, когда мы работаем с контейнерами для элементов. Позволяет позиционировать кнопки, надписи или другие элементы внутри контейнеров.</p>
    <p>place — позволяет позиционировать элементы, указывая точные координаты.</p>
    <p>grid — размещает элементы по ячейкам условной сетки, разделяющей окно приложения.</p>
    <p>Мы воспользуемся комбинацией методов pack и grid. Для начала создадим виджет Frame для размещения надписей, полей ввода и кнопок. Подробное описание работы виджета есть в документации. Мы же используем только два свойства: padx </p>
    <p>Обозначим отступы по вертикали и горизонтали в 10 пикселей для элементов, которые будут расположены внутри Frame:</p>
    <pre>
        <code>
           frame = Frame(
           window, #Обязательный параметр, который указывает окно для размещения Frame.
           padx = 10, #Задаём отступ по горизонтали.
           pady = 10 #Задаём отступ по вертикали.
           )
           frame.pack(expand=True) #Не забываем позиционировать виджет в окне. Здесь используется метод pack. С помощью свойства expand=True указываем, что Frame заполняет весь контейнер, созданный для него.
        </code>
    </pre>
    <p>Добавляем поля ввода информации и кнопку запуска расчёта индекса массы тела.В окне приложения нам необходимо добавить три вида виджетов: поле для ввода информации (Entry), текстовые надписи (Label) и кнопку (Button).</p>
    <p>Начнём с надписей. Воспользуемся виджетом Label:</p>
    <pre>
        <code>
          height_lb = Label(
          frame,
          text="Введите свой рост (в см)  "
          )
          height_lb.grid(row=3, column=1)
        </code>
    </pre>
    <p>Мы передаём виджету Label два параметра:</p>
    <p>frame — используем заготовку виджета Frame, в которой уже настроены отступы по вертикали и горизонтали.</p>
    <p>text — текст, который должен быть выведен на экран.</p>
    <p>Для позиционирования виджета используем метод grid. Укажем, что текст должен располагаться в ячейке с координатами «3-я строка, 1-й столбец». Если запустим код, то увидим там единственный элемент:</p>
    <img src="D:/site/img/l.jpg" height="400px" width="750px">
    <p>Сейчас элемент расположен в центре окна, но он займёт правильное положение, когда мы напишем другие элементы. Добавим вторую надпись о весе аналогичным образом, но при позиционировании в grid укажем следующую, четвёртую строку:</p>
    <pre>
        <code>
          weight_lb = Label(
          frame,
          text="Введите свой вес (в кг)  ",
          )
          weight_lb.grid(row=4, column=1)
        </code>
    </pre>
    <p>Запускаем код и смотрим на результат:</p>
    <img src="D:/site/img/u.jpg" height="400px" width="750px">
    <p>Теперь добавим поля для ввода пользовательской информации, используя виджет Entry:</p>
    <pre>
        <code>
          height_tf = Entry(
          frame, #Используем нашу заготовку с настроенными отступами.
          )
          height_tf.grid(row=3, column=2)
        </code>
    </pre>
    <p>Для позиционирования мы также воспользовались методом grid. Обратите внимание, что наш элемент должен быть расположен напротив надписи «Введите свой рост (в см)». Поэтому мы используем ячейку в той же строке, но уже во втором столбце. Запустим код и посмотрим на результат:</p>
    <img src="D:/site/img/k.jpg" height="400px" width="750px">
    <p>Всё получилось. Остаётся по аналогии добавить поле ввода веса:</p>
    <pre>
        <code>
          weight_tf = Entry(
          frame,
          )
          weight_tf.grid(row=4, column=2, pady=5)
        </code>
    </pre>
    <p>Посмотрим на результат:</p>
    <img src="D:/site/img/f.jpg" height="400px" width="750px">
    <p>Теперь добавим кнопку, которая будет запускать расчёт ИМТ. Сделаем это с помощью виджета Button:</p>
    <pre>
        <code>
          cal_btn = Button(
          frame, #Заготовка с настроенными отступами.
          text='Рассчитать ИМТ', #Надпись на кнопке.
          )
          cal_btn.grid(row=5, column=2) #Размещаем кнопку в ячейке, расположенной ниже, чем наши надписи, но во втором столбце, то есть под ячейками для ввода информации.
        </code>
    </pre>
    <p>Посмотрим на результат:</p>
    <img src="D:/site/img/s.jpg" height="400px" width="750px">
    <p>Теперь в приложении есть все графические элементы. Остаётся лишь написать код, который будет получать информацию из виджетов Entry и рассчитывать индекс массы тела.</p>
    <p>Получаем информацию из виджетов Entry и рассчитываем индекс массы тела. Напишем простую функцию и разберём её построчно:</p>
    <pre>
        <code>
          def calculate_bmi(): #Объявляем функцию.
          kg = int(weight_tf.get()) #С помощью метода .get получаем из поля ввода с именем weight_tf значение веса, которое ввёл пользователь и конвертируем в целое число с помощью int().
          m = int(height_tf.get())/100 #С помощью метода .get получаем из поля ввода с именем height_tf значение роста и конвертируем в целое число с помощью int(). Обязательно делим его на 100, так как пользователь вводит рост в сантиметрах, а в формуле для расчёта ИМТ используются метры.
          bmi = kg/(m*m)#Рассчитываем значение индекса массы тела.
          bmi = round(bmi, 1) #Округляем результат до одного знака после запятой.
        </code>
    </pre>
    <p>Функция готова. Но теперь нам необходимо оценить полученный результат расчёта и вывести сообщение для пользователя.</p>
    <p>Оцениваем результат и показываем пользователю.Дополним нашу функцию calculate_bmi. Воспользуемся условным оператором if, чтобы учесть полученные значения ИМТ, и методом Tkinter messagebox для отображения сообщения во всплывающем окне:</p>
    <pre>
        <code>
           if bmi < 18.5:
           messagebox.showinfo('bmi-pythonguides', f'ИМТ = {bmi} соответствует недостаточному весу')
           elif (bmi > 18.5) and (bmi < 24.9):
           messagebox.showinfo('bmi-pythonguides', f'ИМТ = {bmi} соответствует нормальному весу')
           elif (bmi > 24.9) and (bmi < 29.9):
           messagebox.showinfo('bmi-pythonguides', f'ИМТ = {bmi} соответствует избыточному весу')
           else:
           messagebox.showinfo('bmi-pythonguides', f'ИМТ = {bmi} соответствует ожирению')
        </code>
    </pre>
    <p>Остаётся последний шаг — наша функция должна запускаться при нажатии на кнопку «Рассчитать ИМТ». Для этого добавим свойство command в виджет Button:</p>
      <pre>
        <code>
          cal_btn = Button(
          frame,
          text='Рассчитать ИМТ',
          command=calculate_bmi #Позволяет запустить событие с функцией при нажатии на кнопку.
          )
          cal_btn.grid(row=5, column=2)
        </code>
    </pre>
    <p>Запустим код и посмотрим на результат:</p>
    <img src="D:/site/img/ttt.gif" height="400px" width="750px">
    <p>Всё работает. Функция получает данные из полей ввода и рассчитывает индекс массы тела, показывая результат на экране.</p>
    <pre>
    	<code>
from tkinter import *
from tkinter import messagebox
 
def calculate_bmi():
   kg = int(weight_tf.get())
   m = int(height_tf.get())/100
   bmi = kg/(m*m)
   bmi = round(bmi, 1)
 
   if bmi < 18.5:
       messagebox.showinfo('bmi-pythonguides', f'ИМТ = {bmi} соответствует недостаточному весу')
   elif (bmi > 18.5) and (bmi < 24.9):
       messagebox.showinfo('bmi-pythonguides', f'ИМТ = {bmi} соответствует нормальному весу')
   elif (bmi > 24.9) and (bmi < 29.9):
       messagebox.showinfo('bmi-pythonguides', f'ИМТ = {bmi} соответствует избыточному весу')
   else:
       messagebox.showinfo('bmi-pythonguides', f'ИМТ = {bmi} соответствует ожирению')  
 
window = Tk()
window.title('Калькулятор индекса массы тела (ИМТ)')
window.geometry('400x300')
 
 
frame = Frame(
   window,
   padx=10,
   pady=10
)
frame.pack(expand=True)
 
 
height_lb = Label(
   frame,
   text="Введите свой рост (в см)  "
)
height_lb.grid(row=3, column=1)
 
weight_lb = Label(
   frame,
   text="Введите свой вес (в кг)  ",
)
weight_lb.grid(row=4, column=1)
 
height_tf = Entry(
   frame,
)
height_tf.grid(row=3, column=2, pady=5)
 
weight_tf = Entry(
   frame,
)
weight_tf.grid(row=4, column=2, pady=5)
 
cal_btn = Button(
   frame,
   text='Рассчитать ИМТ',
   command=calculate_bmi
)
cal_btn.grid(row=5, column=2)
 
window.mainloop()
    	</code>
    </pre>
    <h4><a name="vved">Итоговый тест</a></h4>
    <hr>
     <div class="wrapper">
            <iframe src="D:/site/quiz/q2.html" width="480" height="720" class="quiz-frame"></iframe>
        </div>
    <div class="btn-up btn-up_hide"><script src="D:/site/js/butup.js"></script></div>
	</main>
	<footer>
        <h3>Программирование GUI на Python</h3>
        <h4>Курс по созданию графических интерфейсов с помощью библиотеки Tkinter.</h4>
        <p>Воронежский государственный педагогический университет</p><p>Михайлова Мария, 2023</p>
        <p><a href="mailto:mkhlvmari@gmail.com">mkhlvmari@gmail.com</a></p>
    </footer>
</body>
</html>